paths:
  /api/carts:
    post:
      summary: Add a cart.
      tags:
        - Carts
      responses:
        "200":
          description: Cart created successfully.
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
        "500":
          description: Connection to the database failed.
  /api/carts/{cid}:
    get:
      summary: Gets one cart
      tags:
        - Carts
      parameters:
        - name: cid
          in: path
          required: true
          description: ID of the required cart.
          schema:
            $type: String
      responses:
        "200":
          description: Cart found.
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
        "404":
          description: Cart not found.
    put:
      summary: Updates a cart.
      tags:
        - Carts
      parameters:
        - name: cid
          in: path
          required: true
          description: Required cart's ID.
          schema:
            $type: String
      responses:
        "200":
          description: Cart updated successfully.
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
        "500":
          description: Connection to the database failed.
    delete:
      summary: Delete a cart using it's ID.
      tags:
        - Carts
      parameters:
        - name: cid
          in: path
          required: true
          description: Required cart's ID.
          schema:
            $type: String
      responses:
        "200":
          description: Cart deleted successfully.
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
        "500":
          description: Connection to the database failed.
  /api/carts/{cid}/product/{pid}:
    post:
      summary: Add a product to a cart, using both of their IDs.
      tags:
        - Carts
      parameters:
        - name: cid, pid
          in: path
          required: true
          description: Required product and cart IDs.
          schema:
            $type: String
      responses:
        "200":
          description: Product added successfully.
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
    put:
      summary: Update a product quantity in a cart.
      tags:
        - Carts
      parameters:
        - name: cid, pid
          in: path
          required: true
          description: Required product and cart IDs.
          schema:
            $type: String
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#components/requestBodies/Cart&ProductUpdate"
      responses:
        "200":
          description: Product quantity updated successfully.
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
    delete:
      summary: Delete a product from a cart.
      tags:
        - Carts
      parameters:
        - name: cid, pid
          in: path
          required: true
          description: Required product and cart IDs.
          schema:
            $type: String
      responses:
        "200":
          description: Product deleted successfully.
          content:
            application/json:
              schema:
                $ref: "#components/schemas/Success"
components:
  schemas:
    Success:
      type: object
      properties:
        status:
          type: String
          description: success or error
        message:
          type: String
          description: Explaining what went wrong.
      example:
        status: success
        message: User updated
  requestBodies:
    Cart&ProductUpdate:
      type: object
      properties:
        _id:
          type: ObjectId
          description: ID auto generated by mongo
        quantity:
          type: String
          description: Quantity of the product in the cart
      example:
        _id: ObjectId("644081a93f0625dc193bc594")
        quantity: 5